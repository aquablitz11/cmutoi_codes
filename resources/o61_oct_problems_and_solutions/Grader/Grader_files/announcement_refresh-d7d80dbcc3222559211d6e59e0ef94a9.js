var Announcement={mostRecentId:0,refreshUrl:"/main/announcements",setMostRecentId:function(e){Announcement.mostRecentId=e},updateRecentId:function(e){Announcement.mostRecentId<e&&(Announcement.mostRecentId=e)},refreshAnnouncement:function(){var e=Announcement.refreshUrl;new Ajax.Request(e,{method:"get",parameters:{recent:Announcement.mostRecentId},onSuccess:function(e){if(e.status==200&&e.responseText.match(/\S/)!=null){var t=$("announcementbox-body");t.insert({top:e.responseText});var n=$$(".announcementbox");n.length!=0&&n[0].show(),Announcement.registerRefreshEventTimer()}}})},registerRefreshEventTimer:function(){setTimeout(function(){Announcement.refreshAnnouncement()},3e4)}};